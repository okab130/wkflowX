<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>利用者マニュアル - 業務ワークフローシステム</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding-top: 60px;
        }
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .sidebar {
            position: fixed;
            top: 60px;
            bottom: 0;
            left: 0;
            width: 280px;
            padding: 20px;
            background-color: #f8f9fa;
            overflow-y: auto;
            border-right: 1px solid #dee2e6;
        }
        .content {
            margin-left: 300px;
            padding: 30px;
        }
        .sidebar-link {
            display: block;
            padding: 8px 15px;
            color: #495057;
            text-decoration: none;
            border-radius: 5px;
            margin-bottom: 5px;
        }
        .sidebar-link:hover {
            background-color: #e9ecef;
            color: #495057;
        }
        .sidebar-link.active {
            background-color: #667eea;
            color: white;
        }
        .section {
            margin-bottom: 50px;
        }
        .section h2 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 25px;
        }
        .section h3 {
            color: #764ba2;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        .screenshot {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 10px;
            background-color: #f8f9fa;
            margin: 20px 0;
        }
        .step {
            background-color: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
        }
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            background-color: #667eea;
            color: white;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 15px;
            margin: 15px 0;
        }
        .warning {
            background-color: #fff3cd;
            border-left: 4px solid #856404;
            padding: 15px;
            margin: 15px 0;
        }
        .badge-role {
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
        }
        .role-vendor {
            background-color: #28a745;
            color: white;
        }
        .role-receiver {
            background-color: #17a2b8;
            color: white;
        }
        .role-approver {
            background-color: #ffc107;
            color: #000;
        }
        .role-admin {
            background-color: #dc3545;
            color: white;
        }
        table {
            margin: 20px 0;
        }
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #667eea;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .back-to-top:hover {
            background-color: #764ba2;
            transform: translateY(-5px);
        }
    </style>
</head>
<body>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/workflow/">
                <i class="bi bi-gear-fill"></i> 業務ワークフローシステム
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/workflow/">
                    <i class="bi bi-house-door"></i> ダッシュボードに戻る
                </a>
            </div>
        </div>
    </nav>

    <!-- サイドバー -->
    <div class="sidebar">
        <h5 class="mb-3"><i class="bi bi-book"></i> 目次</h5>
        <a href="#introduction" class="sidebar-link">はじめに</a>
        <a href="#overview" class="sidebar-link">システム概要</a>
        <a href="#roles" class="sidebar-link">ユーザーの役割</a>
        <a href="#login" class="sidebar-link">ログイン方法</a>
        <a href="#dashboard" class="sidebar-link">ダッシュボード</a>
        <a href="#vendor" class="sidebar-link">取引先の操作</a>
        <a href="#receiver" class="sidebar-link">受付担当の操作</a>
        <a href="#approver" class="sidebar-link">承認者の操作</a>
        <a href="#search" class="sidebar-link">検索・フィルター</a>
        <a href="#attachments" class="sidebar-link">添付ファイル</a>
        <a href="#troubleshooting" class="sidebar-link">トラブルシューティング</a>
        <a href="#faq" class="sidebar-link">よくある質問</a>
    </div>

    <!-- メインコンテンツ -->
    <div class="content">
        <!-- はじめに -->
        <section id="introduction" class="section">
            <h2><i class="bi bi-flag"></i> はじめに</h2>
            <p>この利用者マニュアルは、業務ワークフローシステムを使用する全てのユーザー向けのガイドです。</p>
            <p>システムの基本的な使い方から、各ロールに応じた詳細な操作方法まで、実際の画面例を交えながら説明します。</p>
            
            <div class="tip">
                <i class="bi bi-lightbulb"></i> <strong>ヒント:</strong> 
                左側の目次から、知りたい項目に直接ジャンプできます。
            </div>
        </section>

        <!-- システム概要 -->
        <section id="overview" class="section">
            <h2><i class="bi bi-info-circle"></i> システム概要</h2>
            <p>業務ワークフローシステムは、各種申請業務を電子化し、効率的に管理するためのシステムです。</p>
            
            <h3>主な機能</h3>
            <ul>
                <li><strong>申請作成・提出</strong> - 各種申請書を電子的に作成・提出</li>
                <li><strong>受付処理</strong> - 提出された申請を受付担当が確認・受付</li>
                <li><strong>承認処理</strong> - 受付済の申請を承認者が承認・却下</li>
                <li><strong>進捗管理</strong> - 申請の現在の状態をリアルタイムで確認</li>
                <li><strong>添付ファイル</strong> - 関連書類をPDFやExcelで添付可能</li>
                <li><strong>コメント機能</strong> - 各申請にコメントを追加可能</li>
            </ul>

            <h3>対応する申請種別</h3>
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>申請種別</th>
                        <th>説明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>作業申請</td>
                        <td>一般的な作業に関する申請</td>
                    </tr>
                    <tr>
                        <td>工事申請</td>
                        <td>工事作業に関する申請</td>
                    </tr>
                    <tr>
                        <td>制限エリア立入申請</td>
                        <td>立入制限区域への入場申請</td>
                    </tr>
                    <tr>
                        <td>制限工具持込申請</td>
                        <td>持込制限工具の持込申請</td>
                    </tr>
                    <tr>
                        <td>その他</td>
                        <td>上記以外の各種申請</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- ユーザーの役割 -->
        <section id="roles" class="section">
            <h2><i class="bi bi-people"></i> ユーザーの役割</h2>
            <p>システムでは、ユーザーを以下の4つの役割に分類しています。</p>

            <h3>役割一覧</h3>
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>役割</th>
                        <th>主な権限</th>
                        <th>表示される伝票</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge-role role-vendor">取引先</span></td>
                        <td>
                            <ul class="mb-0">
                                <li>申請の作成・提出</li>
                                <li>自分の申請の確認</li>
                                <li>下書きの編集</li>
                            </ul>
                        </td>
                        <td>自分が申請した伝票のみ</td>
                    </tr>
                    <tr>
                        <td><span class="badge-role role-receiver">受付担当</span></td>
                        <td>
                            <ul class="mb-0">
                                <li>申請の受付処理</li>
                                <li>申請の差し戻し</li>
                                <li>自分の申請の作成・確認</li>
                            </ul>
                        </td>
                        <td>
                            <ul class="mb-0">
                                <li>自分が申請した伝票</li>
                                <li>受付可能な申請中の伝票</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><span class="badge-role role-approver">承認者</span></td>
                        <td>
                            <ul class="mb-0">
                                <li>申請の承認・却下</li>
                                <li>申請の差し戻し</li>
                                <li>自分の申請の作成・確認</li>
                            </ul>
                        </td>
                        <td>
                            <ul class="mb-0">
                                <li>自分が申請した伝票</li>
                                <li>承認可能な受付済の伝票</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><span class="badge-role role-admin">管理者</span></td>
                        <td>
                            <ul class="mb-0">
                                <li>全ての操作</li>
                                <li>ユーザー管理</li>
                                <li>ロール設定</li>
                            </ul>
                        </td>
                        <td>全ての伝票</td>
                    </tr>
                </tbody>
            </table>

            <div class="tip">
                <i class="bi bi-lightbulb"></i> <strong>ヒント:</strong> 
                1人のユーザーが複数のロールを兼任することも可能です。その場合、全てのロールの権限を使用できます。
            </div>
        </section>

        <!-- ログイン方法 -->
        <section id="login" class="section">
            <h2><i class="bi bi-box-arrow-in-right"></i> ログイン方法</h2>
            
            <div class="step">
                <span class="step-number">1</span>
                <strong>ログインページにアクセス</strong>
                <p class="mt-2 mb-0">ブラウザで以下のURLにアクセスします：<br>
                <code>http://127.0.0.1:8000/accounts/login/</code></p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>ユーザー名とパスワードを入力</strong>
                <p class="mt-2 mb-0">支給されたユーザー名とパスワードを入力します。</p>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>ログインボタンをクリック</strong>
                <p class="mt-2 mb-0">「ログイン」ボタンをクリックすると、ダッシュボードに移動します。</p>
            </div>

            <div class="warning">
                <i class="bi bi-exclamation-triangle"></i> <strong>注意:</strong> 
                パスワードは他人に教えないでください。定期的に変更することをお勧めします。
            </div>
        </section>

        <!-- ダッシュボード -->
        <section id="dashboard" class="section">
            <h2><i class="bi bi-speedometer2"></i> ダッシュボード</h2>
            <p>ログイン後、最初に表示される画面です。自分に関連する申請の一覧と統計情報が表示されます。</p>

            <h3>表示される情報</h3>
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>項目</th>
                        <th>説明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>下書き</td>
                        <td>自分が作成した下書き状態の申請件数</td>
                    </tr>
                    <tr>
                        <td>申請中</td>
                        <td>自分が提出した申請中の申請件数</td>
                    </tr>
                    <tr>
                        <td>承認済</td>
                        <td>自分が提出して承認された申請件数</td>
                    </tr>
                    <tr>
                        <td>受付待ち</td>
                        <td>受付担当者のみ表示。自分が受付する必要がある申請件数</td>
                    </tr>
                    <tr>
                        <td>承認待ち</td>
                        <td>承認者のみ表示。自分が承認する必要がある申請件数</td>
                    </tr>
                </tbody>
            </table>

            <h3>申請一覧の表示ルール</h3>
            <p>ダッシュボードに表示される申請は、以下の条件のいずれかに該当するものです：</p>
            <ul>
                <li><strong>自分が申請した伝票</strong>（全てのステータス）</li>
                <li><strong>自分が受付する伝票</strong>（申請中ステータスのみ）</li>
                <li><strong>自分が承認する伝票</strong>（受付済ステータスのみ）</li>
            </ul>

            <div class="tip">
                <i class="bi bi-lightbulb"></i> <strong>ヒント:</strong> 
                検索ボックスやフィルターを使用すると、特定の申請を素早く見つけることができます。
            </div>
        </section>

        <!-- 取引先の操作 -->
        <section id="vendor" class="section">
            <h2><span class="badge-role role-vendor">取引先</span> の操作</h2>
            
            <h3>1. 新規申請の作成</h3>
            
            <div class="step">
                <span class="step-number">1</span>
                <strong>「新規申請」ボタンをクリック</strong>
                <p class="mt-2 mb-0">ダッシュボード上部の「新規申請」ボタンをクリックします。</p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>申請種別を選択</strong>
                <p class="mt-2 mb-0">以下から適切な申請種別を選択します：</p>
                <ul>
                    <li>作業申請</li>
                    <li>工事申請</li>
                    <li>制限エリア立入申請</li>
                    <li>制限工具持込申請</li>
                    <li>その他</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>申請内容を入力</strong>
                <p class="mt-2 mb-0">以下の必須項目を入力します：</p>
                <ul>
                    <li>件名（申請のタイトル）</li>
                    <li>会社名</li>
                    <li>作業内容</li>
                    <li>作業予定日</li>
                    <li>作業場所</li>
                    <li>作業者名</li>
                    <li>緊急連絡先</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">4</span>
                <strong>添付ファイルを追加（オプション）</strong>
                <p class="mt-2 mb-0">「ファイルを選択」ボタンをクリックし、関連書類を添付します。</p>
                <ul>
                    <li>対応形式：PDF, Word, Excel, 画像（JPG, PNG）, ZIP</li>
                    <li>最大サイズ：10MB/ファイル</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">5</span>
                <strong>下書き保存または申請提出</strong>
                <p class="mt-2 mb-0">
                    <strong>下書き保存:</strong> 「下書き保存」ボタンをクリックすると、後で編集可能な状態で保存されます。<br>
                    <strong>申請提出:</strong> 「申請提出」ボタンをクリックすると、受付担当に申請が送信されます。
                </p>
            </div>

            <div class="warning">
                <i class="bi bi-exclamation-triangle"></i> <strong>注意:</strong> 
                一度申請提出すると、自分では編集できなくなります。差し戻された場合のみ再編集できます。
            </div>

            <h3>2. 申請の確認</h3>
            <p>ダッシュボードの一覧から、確認したい申請をクリックすると詳細画面が表示されます。</p>
            <p>詳細画面では以下の情報を確認できます：</p>
            <ul>
                <li>申請番号</li>
                <li>現在のステータス</li>
                <li>申請内容</li>
                <li>処理履歴</li>
                <li>添付ファイル</li>
                <li>コメント</li>
            </ul>

            <h3>3. 下書きの編集</h3>
            <p>下書き状態の申請は、以下の手順で編集できます：</p>
            <ol>
                <li>ダッシュボードで下書きの申請をクリック</li>
                <li>詳細画面で「編集」ボタンをクリック</li>
                <li>内容を修正</li>
                <li>「下書き保存」または「申請提出」をクリック</li>
            </ol>
        </section>

        <!-- 受付担当の操作 -->
        <section id="receiver" class="section">
            <h2><span class="badge-role role-receiver">受付担当</span> の操作</h2>
            
            <h3>1. 受付待ち申請の確認</h3>
            <p>ダッシュボードに「受付待ち」として表示される申請が、自分が処理する必要がある申請です。</p>
            
            <div class="tip">
                <i class="bi bi-lightbulb"></i> <strong>ヒント:</strong> 
                ダッシュボード上部の「受付待ち: X件」をクリックすると、受付待ちの申請のみが表示されます。
            </div>

            <h3>2. 申請の受付処理</h3>
            
            <div class="step">
                <span class="step-number">1</span>
                <strong>申請の詳細を確認</strong>
                <p class="mt-2 mb-0">申請一覧から受付したい申請をクリックし、内容を確認します。</p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>内容の妥当性をチェック</strong>
                <p class="mt-2 mb-0">以下の項目を確認します：</p>
                <ul>
                    <li>必須項目が全て入力されているか</li>
                    <li>添付ファイルが適切か</li>
                    <li>作業内容が明確か</li>
                    <li>安全対策が記載されているか</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>受付または差し戻し</strong>
                <p class="mt-2 mb-0">
                    <strong>問題がない場合:</strong> 「受付」ボタンをクリック<br>
                    <strong>修正が必要な場合:</strong> 「差し戻し」ボタンをクリックし、理由をコメント欄に記入
                </p>
            </div>

            <div class="tip">
                <i class="bi bi-lightbulb"></i> <strong>ヒント:</strong> 
                受付処理を行うと、その申請は「受付済」となり、承認者のダッシュボードに表示されるようになります。
            </div>

            <h3>3. 差し戻し処理</h3>
            <p>申請内容に不備がある場合、申請者に差し戻すことができます：</p>
            <ol>
                <li>詳細画面で「差し戻し」ボタンをクリック</li>
                <li>差し戻しの理由をコメント欄に記入</li>
                <li>「送信」ボタンをクリック</li>
            </ol>
            <p>差し戻された申請は、申請者が修正して再提出できます。</p>

            <h3>4. 自分の申請も作成可能</h3>
            <p>受付担当者も取引先と同様に、自分で申請を作成・提出できます。</p>
            <p>自分が申請した伝票は、ダッシュボードに表示されます。</p>
        </section>

        <!-- 承認者の操作 -->
        <section id="approver" class="section">
            <h2><span class="badge-role role-approver">承認者</span> の操作</h2>
            
            <h3>1. 承認待ち申請の確認</h3>
            <p>ダッシュボードに「承認待ち」として表示される申請が、自分が承認する必要がある申請です。</p>

            <h3>2. 申請の承認処理</h3>
            
            <div class="step">
                <span class="step-number">1</span>
                <strong>申請の詳細を確認</strong>
                <p class="mt-2 mb-0">申請一覧から承認したい申請をクリックし、内容を詳細に確認します。</p>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>リスク評価</strong>
                <p class="mt-2 mb-0">以下の観点から評価します：</p>
                <ul>
                    <li>作業の安全性</li>
                    <li>施設への影響</li>
                    <li>必要な資格・許可の確認</li>
                    <li>作業計画の妥当性</li>
                </ul>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>承認、却下、または差し戻し</strong>
                <p class="mt-2 mb-0">
                    <strong>問題がない場合:</strong> 「承認」ボタンをクリック<br>
                    <strong>承認できない場合:</strong> 「却下」ボタンをクリックし、理由を記入<br>
                    <strong>修正が必要な場合:</strong> 「差し戻し」ボタンをクリック
                </p>
            </div>

            <div class="warning">
                <i class="bi bi-exclamation-triangle"></i> <strong>重要:</strong> 
                承認後は変更できません。慎重に内容を確認してください。
            </div>

            <h3>3. 却下処理</h3>
            <p>申請を承認できない場合：</p>
            <ol>
                <li>詳細画面で「却下」ボタンをクリック</li>
                <li>却下の理由を詳細に記入</li>
                <li>「送信」ボタンをクリック</li>
            </ol>
            <p>却下された申請は、申請者が確認できますが、再編集はできません。</p>

            <h3>4. コメント機能の活用</h3>
            <p>承認前に確認事項がある場合、コメント機能を使用して申請者とコミュニケーションできます：</p>
            <ol>
                <li>詳細画面のコメント欄に質問を記入</li>
                <li>「コメント追加」ボタンをクリック</li>
                <li>申請者からの返信を待つ</li>
            </ol>
        </section>

        <!-- 検索・フィルター -->
        <section id="search" class="section">
            <h2><i class="bi bi-search"></i> 検索・フィルター機能</h2>
            
            <h3>検索機能</h3>
            <p>ダッシュボードの検索ボックスで、以下の項目を検索できます：</p>
            <ul>
                <li>申請番号</li>
                <li>件名</li>
                <li>会社名</li>
            </ul>
            <p>検索語を入力して「検索」ボタンをクリックすると、該当する申請が表示されます。</p>

            <h3>フィルター機能</h3>
            <p>検索ボックスの下にあるフィルターで、表示する申請を絞り込めます：</p>
            
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>フィルター</th>
                        <th>選択肢</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ステータス</td>
                        <td>
                            <ul class="mb-0">
                                <li>下書き</li>
                                <li>申請中</li>
                                <li>受付済</li>
                                <li>承認済</li>
                                <li>却下</li>
                                <li>差し戻し</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>申請種別</td>
                        <td>
                            <ul class="mb-0">
                                <li>作業申請</li>
                                <li>工事申請</li>
                                <li>制限エリア立入申請</li>
                                <li>制限工具持込申請</li>
                                <li>その他</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="tip">
                <i class="bi bi-lightbulb"></i> <strong>ヒント:</strong> 
                検索とフィルターは組み合わせて使用できます。例：「工事申請」で「承認済」のものだけを表示
            </div>
        </section>

        <!-- 添付ファイル -->
        <section id="attachments" class="section">
            <h2><i class="bi bi-paperclip"></i> 添付ファイル</h2>
            
            <h3>ファイルのアップロード</h3>
            <p>申請作成時または詳細画面から、関連書類を添付できます。</p>

            <h4>対応ファイル形式</h4>
            <ul>
                <li>PDF (.pdf)</li>
                <li>Word (.doc, .docx)</li>
                <li>Excel (.xls, .xlsx)</li>
                <li>画像 (.jpg, .jpeg, .png)</li>
                <li>圧縮ファイル (.zip)</li>
            </ul>

            <h4>制限事項</h4>
            <ul>
                <li>最大ファイルサイズ：10MB/ファイル</li>
                <li>複数ファイルを添付可能</li>
            </ul>

            <h3>ファイルのダウンロード</h3>
            <p>詳細画面の「添付ファイル」セクションで、ファイル名をクリックするとダウンロードできます。</p>

            <h3>ファイルの削除</h3>
            <p>下書き状態の申請のみ、添付ファイルを削除できます：</p>
            <ol>
                <li>詳細画面で「編集」をクリック</li>
                <li>削除したいファイルの「削除」ボタンをクリック</li>
                <li>確認ダイアログで「OK」をクリック</li>
            </ol>

            <div class="warning">
                <i class="bi bi-exclamation-triangle"></i> <strong>注意:</strong> 
                申請提出後は、添付ファイルの追加・削除はできません。
            </div>
        </section>

        <!-- トラブルシューティング -->
        <section id="troubleshooting" class="section">
            <h2><i class="bi bi-wrench"></i> トラブルシューティング</h2>
            
            <h3>ログインできない</h3>
            <p><strong>症状:</strong> ユーザー名・パスワードを入力してもログインできない</p>
            <p><strong>対処法:</strong></p>
            <ul>
                <li>ユーザー名とパスワードが正しいか確認</li>
                <li>Caps Lockがオンになっていないか確認</li>
                <li>全角・半角が正しいか確認</li>
                <li>それでも解決しない場合は管理者に連絡</li>
            </ul>

            <h3>申請が表示されない</h3>
            <p><strong>症状:</strong> ダッシュボードに申請が何も表示されない</p>
            <p><strong>対処法:</strong></p>
            <ul>
                <li>フィルターが設定されていないか確認</li>
                <li>ブラウザを再読み込み（F5キー）</li>
                <li>それでも表示されない場合は管理者に連絡</li>
            </ul>

            <h3>詳細画面が開けない（404エラー）</h3>
            <p><strong>症状:</strong> 申請をクリックしても「ページが見つかりません」と表示される</p>
            <p><strong>原因:</strong> その申請を見る権限がない可能性があります</p>
            <p><strong>対処法:</strong></p>
            <ul>
                <li>自分が閲覧可能な申請か確認</li>
                <li>申請が削除されていないか確認</li>
                <li>問題が続く場合は管理者に連絡</li>
            </ul>

            <h3>ファイルがアップロードできない</h3>
            <p><strong>症状:</strong> ファイルを選択しても添付されない</p>
            <p><strong>対処法:</strong></p>
            <ul>
                <li>ファイルサイズが10MB以下か確認</li>
                <li>ファイル形式が対応しているか確認</li>
                <li>ブラウザのキャッシュをクリア</li>
                <li>別のブラウザで試す</li>
            </ul>

            <h3>ボタンが押せない・反応しない</h3>
            <p><strong>症状:</strong> 「受付」「承認」などのボタンが押せない</p>
            <p><strong>原因:</strong> その操作を行う権限がない可能性があります</p>
            <p><strong>対処法:</strong></p>
            <ul>
                <li>自分の役割を確認</li>
                <li>申請のステータスを確認</li>
                <li>ブラウザを再読み込み</li>
            </ul>
        </section>

        <!-- よくある質問 -->
        <section id="faq" class="section">
            <h2><i class="bi bi-question-circle"></i> よくある質問（FAQ）</h2>
            
            <h3>Q1. 一度提出した申請を修正できますか？</h3>
            <p><strong>A:</strong> 提出後は自分では修正できません。差し戻された場合のみ修正が可能です。提出前に内容をよく確認してください。</p>

            <h3>Q2. 下書きはいつまで保存されますか？</h3>
            <p><strong>A:</strong> 下書きは削除しない限り永久に保存されます。ただし、定期的に整理することをお勧めします。</p>

            <h3>Q3. 複数の役割を持っている場合、どうなりますか？</h3>
            <p><strong>A:</strong> 全ての役割の権限を使用できます。例えば、受付担当と承認者を兼任している場合、受付と承認の両方の操作が可能です。</p>

            <h3>Q4. 承認済みの申請を取り消せますか？</h3>
            <p><strong>A:</strong> 承認後の取り消しはできません。誤って承認した場合は、管理者に連絡してください。</p>

            <h3>Q5. 添付ファイルは何個まで添付できますか？</h3>
            <p><strong>A:</strong> 個数制限はありませんが、1ファイルあたり10MB以下である必要があります。</p>

            <h3>Q6. 申請番号の規則は？</h3>
            <p><strong>A:</strong> 申請番号は「APP-YYYYMMDD-XXXX」の形式で自動採番されます。<br>
            例：APP-20251228-0001</p>

            <h3>Q7. メール通知は送られますか？</h3>
            <p><strong>A:</strong> はい。以下のタイミングでメール通知が送信されます：</p>
            <ul>
                <li>申請が提出された時 → 受付担当に通知</li>
                <li>受付が完了した時 → 承認者に通知</li>
                <li>承認・却下された時 → 申請者に通知</li>
                <li>差し戻された時 → 申請者に通知</li>
            </ul>

            <h3>Q8. スマートフォンでも使用できますか？</h3>
            <p><strong>A:</strong> はい。レスポンシブデザインに対応しているため、スマートフォンやタブレットからも使用できます。</p>

            <h3>Q9. 過去の申請を検索する方法は？</h3>
            <p><strong>A:</strong> ダッシュボードの検索ボックスで申請番号や件名を入力して検索できます。また、ステータスフィルターで「承認済」を選択すると、過去の承認済み申請が表示されます。</p>

            <h3>Q10. パスワードを忘れた場合は？</h3>
            <p><strong>A:</strong> システム管理者に連絡して、パスワードをリセットしてもらってください。</p>
        </section>

        <!-- お問い合わせ -->
        <section class="section">
            <h2><i class="bi bi-envelope"></i> お問い合わせ</h2>
            <p>このマニュアルで解決できない問題や、システムに関するご質問がある場合は、以下までお問い合わせください：</p>
            
            <div class="alert alert-info">
                <strong>システム管理者</strong><br>
                メール：admin@example.com<br>
                電話：XXX-XXXX-XXXX<br>
                対応時間：平日 9:00-17:00
            </div>
        </section>
    </div>

    <!-- トップに戻るボタン -->
    <div class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
        <i class="bi bi-arrow-up"></i>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // スクロールに応じてサイドバーのアクティブリンクを更新
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('.section');
            const links = document.querySelectorAll('.sidebar-link');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= (sectionTop - 100)) {
                    current = section.getAttribute('id');
                }
            });

            links.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>